<!DOCTYPE html>
<html>
<body>

<button id="btnRandom" type="button" onclick="generateEasyFractions()">Generate Easy </button>
<button id="btnRandom" type="button" onclick="generateMediumFractions()">Generate Medium </button>
<button id="btnRandom" type="button" onclick="generateHardFractions()">Generate Hard </button>
</br>
<input type="text" id="frac1" value="frac1" />
</br>
<input type="text" id="frac2" value="frac2" />
</br>
<input type="text" id="frac3" value="frac3" />
</br>
<input type="text" id="frac4" value="frac4" />

<script>

var easy = [4,6,8];
var medium = [6,8,9,10,16];
var hard = [8,9,10,12,14,15,16];
var dec1;
var dec2;
var dec3;
var dec4;

//Sets the value of the decimals
function generateThreeDecimals(denominator)
{
	num1 = Math.floor(((Math.random()) * (denominator-2))+1)
	num2 = Math.floor(((Math.random()) * (denominator-1-num1))+1)
	num3 = denominator - num1 - num2;
	dec1 = num1/denominator;
	dec2 = num2/denominator;
	dec3 = num3/denominator;
}
function generateFourDecimals(denominator)
{
	num1 = Math.floor(((Math.random()) * (denominator-3))+1)
	num2 = Math.floor(((Math.random()) * (denominator-2-num1))+1)
	num3 = Math.floor(((Math.random()) * (denominator-1-num1-num2))+1)
	num4 = denominator - num1 - num2 - num3;
	dec1 = num1/denominator;
	dec2 = num2/denominator;
	dec3 = num3/denominator;
	dec4 = num4/denominator;
}

//These three print out the fractions in the textboxes
function generateEasyFractions()
{
	generateThreeDecimals(randomNumberEasy());
	
	document.getElementById("frac1").value = fraction(dec1);
	document.getElementById("frac2").value = fraction(dec2);
	document.getElementById("frac3").value = fraction(dec3);
	document.getElementById("frac4").value = "";
}
function generateMediumFractions()
{
	generateThreeDecimals(randomNumberMedium());
	
	document.getElementById("frac1").value = fraction(dec1);
	document.getElementById("frac2").value = fraction(dec2);
	document.getElementById("frac3").value = fraction(dec3);
	document.getElementById("frac4").value = "";
}
function generateHardFractions()
{
	generateFourDecimals(randomNumberHard());
	
	document.getElementById("frac1").value = fraction(dec1);
	document.getElementById("frac2").value = fraction(dec2);
	document.getElementById("frac3").value = fraction(dec3);
	document.getElementById("frac4").value = fraction(dec4);
}

//These functions create the random numbers for the arrays.
function randomNumberEasy()
{
	var randomNum;
	
	random=Math.floor(Math.random() * 3);
	
	return easy[random];
}

function randomNumberMedium()
{
	var randomNum;
	
	random=Math.floor(Math.random() * 5);
	
	return medium[random];
}

function randomNumberHard()
{
	var randomNum;
	
	random=Math.floor(Math.random() * 7);
	
	return hard[random];
}

//taken from http://jonisalonen.com/2012/converting-decimal-numbers-to-ratios/
function fraction(x) {
    var tolerance = 1.0E-6;
    var h1=1; var h2=0;
    var k1=0; var k2=1;
    var b = x;
    do {
        var a = Math.floor(b);
        var aux = h1; h1 = a*h1+h2; h2 = aux;
        aux = k1; k1 = a*k1+k2; k2 = aux;
        b = 1/(b-a);
    } while (Math.abs(x-h1/k1) > x*tolerance);
    
    return h1+"/"+k1;
}


</script>

</body>
</html>